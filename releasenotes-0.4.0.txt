Release Notes benerator 0.4.0
=============================

Summary
The new release is a general makeover of system and processor handling, 
improves overall usage convenience and adds some great new features like 
script and template support. Scripts can be used in all import formats: 
CSV, Flat Files, DbUnit and benerator files. A ScriptGenerator can 
calculate dependent values dynamically.

Changes
- nullable database columns are generated as null by default
- extended System interface and renamed methods for JavaBeans compliance
- Processors are closed when the setup file is processed completely, not after the first <create-entities>
- System replaced with StorageSystem
- Processor replaced with Consumer
- Task uses the Context interface instead of TaskContext and has new method wantsToRun()
- New class PhoneNumberFormat
- renamed PhoneNumber properties

Migration
- For own Processor implementations, change 'implements Processor' to 'extends AbstractProcessor'
- For own System implementations:
  - rename getEntities() to allEntities()
  - rename getIds() to entityIds()
  - rename getBySelector() to query()

New Features
- New IdProvider interface, special IdGenerator life cycle, managed externally by an IdProviderFactory
- ScriptGenerator class
- unix support
- *ix shell files for benerator and snapshot tool
- RunSqlScriptTask.commentsIgnored for faster schema creation
- introduced 'batch' property in DBSystem class for easier debugging (SQL error message in batch mode are not helpful)
- Recommend 'purge recyclebin;' on occurrence of BIN$ tables in Oracle databases
- new class PhoneNumberFormat
- Script support in
  - benerator files
  - DbUnit XML files
  - properties files
  - CSV files
  - flat files
- Staging mechanism: <include uri="my.{${stage}}.properties"/>
- Enabled export of different entities to arbitrary exporters (e.g. DbUnitEntityExporter)
- global properties
- CSVEntityExporter can be initialized by EntityDescriptor 
- New class AbstractProcessor
- New benerator file elements:
  - <include uri="...properties"/>
  - <database url="..." driver="..." user="..." password="..." batch="..."/>
  - recursive invocation of create-entities
  - <key type="seqhilo|sequence|query" param=""/>
  - <echo message="..."/>
  - <setup default-script="ftl" default-null="true">
  - <attribute ... script="..."/>
- Configurable global defaults:
  - defaultEncoding: file encoding
  - defaultNull: generate nullable attributes as null
  - defaultPagesize: number of entities to store in one tx
  - defaultScript: Template engine to choose
  - database dialects
  
Bug fixes
- clean up of EntityGenerators
- resource leaks: After a generation run all heavy-weight JavaBeans in the context are closed
- bug fix in default file encoding of DbUnitEntityExporter
- improved Connection handling in sequence usage
- empty generation loops
- NullPinterException in UniqueStringGenerator
- NullPointerException in CharacterGenerator
- FeatureDescriptor/EntityDescriptor: constraint handling and object identity
- AttributeDescriptor: default values

QA
