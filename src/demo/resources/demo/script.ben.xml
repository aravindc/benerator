<?xml version="1.0" encoding="iso-8859-1"?>
<setup 	xmlns="http://databene.org/benerator/0.7.0"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://databene.org/benerator/0.7.0 http://databene.org/benerator-0.7.0.xsd">

    <setting name="lsparams" value="-l"/>
    <execute type="shell">{ls ${lsparams}}</execute> 

    <execute type="js"> 
        print('Hello ' + context.get('user.name') + '!'); 
    </execute> 

    <database id="db" url="jdbc:hsqldb:hsql://localhost:9001"
        driver="org.hsqldb.jdbcDriver" schema="public" user="sa"/>

    <execute target="db" onError="warn">
        DROP TABLE db_user;
    </execute> 

    <execute target="db">
        CREATE TABLE db_user (
          id       int         generated by default as identity (start with 1) NOT NULL,
          name     varchar(30) NOT NULL,
          PRIMARY KEY  (id)
        );
    </execute>
    
    <execute type="js"> 
        importPackage(org.databene.model.data); 
        print('DB-URL' + db.getUrl());

        // create user Alice
        var alice = new Entity('db_user');
        alice.set('id', 1);
        alice.set('name', 'Alice'); 
        db.store(alice); 

        // create user Bob
        var bob = new Entity('db_user', 'id', '2', 'name', 'Bob'); 
        db.store(bob); 

        // persist everything
        db.flush(); 
    </execute>

</setup>